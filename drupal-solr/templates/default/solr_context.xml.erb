<!-- 
  Context File for Apache Solr Web App, Generated by Chef
  Local modifications will be overwritten by Chef
-->
<Context docBase="<%= node['drupal-solr']['war_dir'] %>/solr.war" debug="0" crossContext="true">
  <Environment 
    name="solr/home" 
    type="java.lang.String" 
    value="<%= node['drupal-solr']['home_dir']%>" 
    override="true" />
  <Valve
    className="org.apache.catalina.valves.AccessLogValve"
    prefix = "solr_<%= node['drupal-solr']['app_name'] %>_"
    suffix = ".log"
    pattern = "<%= node['drupal-solr']['log_format'] %>"
  />
  <!-- You might want to remove the following Valve for debugging/development
  puposes behind port forwarding -->
  <Valve
    className="org.apache.catalina.valves.RemoteAddrValve"
    allow="0:0:0:0:0:0:0:1,127\.0\.0\.1"
  />
<!-- custom configuration loaded from <%= @custom_file %> by Chef -->
<%= IO.read(@custom_file) if File.exists?(@custom_file) %>
</Context>
